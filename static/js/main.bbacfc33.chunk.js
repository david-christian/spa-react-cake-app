(this["webpackJsonpspa-app-react"]=this["webpackJsonpspa-app-react"]||[]).push([[0],{68:function(n,e,t){},69:function(n,e,t){"use strict";t.r(e);var c,a,i,r,o=t(0),s=t(26),d=t.n(s),j=t(4),b=t(2),u=t(3),p=t(7),x="token",l=function(n){return localStorage.setItem(x,n)},O=function(){return localStorage.getItem(x)},h="https://powerful-eyrie-65893.herokuapp.com",g=function(n){return fetch("".concat(h,"/posts?id=").concat(n)).then((function(n){return n.json()}))},f=function(n,e){return fetch("".concat(h,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))},v=function(){var n=O();return fetch("".concat(h,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},m=Object(o.createContext)(null),w=Object(o.createContext)(null),k=t(1),y=u.a.div(c||(c=Object(b.a)(["\n  color: red;\n"]))),S=u.a.div(a||(a=Object(b.a)(["\n  padding: 200px 20px 500px 20px;\n"]))),C=u.a.div(i||(i=Object(b.a)(["\n  max-width: 450px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 30px 50px;\n  margin: 0 auto;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n\n  p {\n    margin-bottom: 20px;\n  }\n\n  input {\n    width: 100%;\n    padding: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n\n  button {\n    border-radius: 20px;\n    padding: 6px 20px;\n    font-size: 15px;\n  }\n"]))),z=u.a.div(r||(r=Object(b.a)(["\n  text-align: center;\n  font-size: 30px;\n  margin-bottom: 15px;\n"])));function L(){var n=Object(o.useContext)(m).setUser,e=Object(o.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(o.useState)(""),r=Object(j.a)(i,2),s=r[0],d=r[1],b=Object(o.useState)(""),u=Object(j.a)(b,2),x=u[0],O=u[1],h=Object(p.f)();return Object(k.jsx)(S,{children:Object(k.jsx)(C,{children:Object(k.jsxs)("form",{onSubmit:function(e){if(""===c&&""===s)return e.preventDefault(),void O("\u5e33\u865f\u6216\u5bc6\u78bc\u672a\u8f38\u5165");e.preventDefault(),O(null),f(c,s).then((function(e){if(0===e.ok)return O(e.message);l(e.token),v().then((function(e){if(1!==e.ok)return l(null),O(e.toString());n(e.data),h.push("/")}))}))},children:[Object(k.jsx)(z,{children:"\u767b\u5165"}),Object(k.jsx)("p",{children:"\u203b \u6b64\u8ad6\u58c7\u50c5\u4f9b\u6e2c\u8a66\u7528\uff0c\u5bc6\u78bc\u5747\u8a2d\u70ba Lidemy"}),Object(k.jsxs)("div",{children:["username:",Object(k.jsx)("input",{value:c,onChange:function(n){return a(n.target.value)}})]}),Object(k.jsxs)("div",{children:["password:",Object(k.jsx)("input",{type:"password",value:s,onChange:function(n){return d(n.target.value)}})]}),Object(k.jsx)("button",{children:"\u767b\u5165"}),Object(k.jsx)(y,{children:x&&x})]})})})}var E,D=t(11),I=u.a.div(E||(E=Object(b.a)(['\n  position: relative;\n  background: url("https://i.imgur.com/mMWUOrD.jpg") no-repeat center / cover;\n  height: 600px;\n  width: 100%;\n'])));function P(){return Object(k.jsx)(I,{})}var U,B,A,G,J,N,T,_,$,R,M,F,H,W,q=t(28),K=t(29),Q=u.a.div(U||(U=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function V(){return Object(k.jsx)(Q,{children:Object(k.jsx)(K.RingLoader,{size:60,color:"#4A90E2"})})}var X,Y,Z,nn,en,tn,cn,an,rn,on=u.a.div(B||(B=Object(b.a)(["\n  background: #c1d4d9;\n"]))),sn=u.a.div(A||(A=Object(b.a)(["\n  margin: 0 auto;\n  width: 90%;\n"]))),dn=u.a.div(G||(G=Object(b.a)(["\n  display: inline-flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),jn=Object(u.a)(D.b)(J||(J=Object(b.a)(["\n  width: 300px;\n  height: 400px;\n  position: relative;\n  background-color: #f2cbc2;\n  padding: 5px;\n  border-radius: 8px;\n  margin: 30px;\n  transition: 0.2s;\n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 5px 5px 15px 0px black;\n  }\n"]))),bn=u.a.div(N||(N=Object(b.a)(["\n  height: 70%;\n  width: 100%;\n  background-size: cover;\n  border-radius: 8px;\n"]))),un=u.a.div(T||(T=Object(b.a)(["\n  font-size: 24px;\n  width: 100%;\n  color: white;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  text-align: center;\n  margin-top: 10px;\n"]))),pn=u.a.div(_||(_=Object(b.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  padding: 10px;\n  bottom: 0;\n  right: 0;\n"]))),xn=u.a.div($||($=Object(b.a)(["\n  position: relative;\n  height: 200px;\n"]))),ln=u.a.div(R||(R=Object(b.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  color: white;\n"]))),On=u.a.button(M||(M=Object(b.a)([""]))),hn=u.a.button(F||(F=Object(b.a)([""]))),gn=u.a.div(H||(H=Object(b.a)([""]))),fn=u.a.div(W||(W=Object(b.a)(['\n  background: url("https://i.imgur.com/t6SsRwM.jpg") no-repeat center / cover;\n  height: 400px;\n  color: white;\n  padding-top: 10px;\n  position: relative;\n\n  div {\n    text-align: center;\n  }\n'])));function vn(n){var e=n.post;return Object(k.jsxs)(jn,{to:"/posts/".concat(e.id),children:[Object(k.jsx)(bn,{style:{backgroundImage:"url(".concat(e.image,")")}}),Object(k.jsx)(un,{children:e.title}),Object(k.jsx)(pn,{children:new Date(e.createdAt).toLocaleString()})]})}function mn(n){var e=n.allPage,t=n.page,c=n.setPage,a=function(n){return"next"===n&&t<e?c(t+1):"prev"===n&&t>=2?c(t-1):void 0};return Object(k.jsxs)(ln,{children:[Object(k.jsx)(On,{onClick:function(){return a("prev")},children:"\u4e0a\u4e00\u9801"}),Object(k.jsx)(hn,{onClick:function(){return a("next")},children:"\u4e0b\u4e00\u9801"}),Object(k.jsxs)(gn,{children:["\u7b2c",t,"\u9801/\u5171",e,"\u9801"]})]})}function wn(){var n=Object(o.useState)(null),e=Object(j.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)([]),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(o.useState)(),b=Object(j.a)(d,2),u=b[0],p=b[1],x=Object(o.useState)(1),l=Object(j.a)(x,2),O=l[0],g=l[1],f=Object(q.useContext)(w),v=f.isLoading,m=f.setIsLoading;return Object(o.useEffect)((function(){m(!0),fetch("".concat(h,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){p(Math.ceil(n.length/5))})).then((function(n){m(!1)}))}),[m]),Object(o.useEffect)((function(){m(!0),function(n,e){return fetch("".concat(h,"/posts?_sort=createdAt&_order=desc&_page=").concat(n,"&_limit=").concat(e)).then((function(n){return n.json()}))}(O,5).then((function(n){s(n),c(!0)})).then((function(n){m(!1)}))}),[O,m]),Object(k.jsx)(on,{children:v?Object(k.jsx)(V,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(P,{}),Object(k.jsx)(sn,{children:Object(k.jsx)(dn,{children:r.map((function(n){return Object(k.jsx)(vn,{post:n},n.id)}))})}),Object(k.jsx)(xn,{children:t&&Object(k.jsx)(mn,{allPage:u,page:O,setPage:g})}),Object(k.jsx)(fn,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"\u95dc\u65bc Cake Garden"}),Object(k.jsx)("h3",{children:"\u4e00\u500b\u80fd\u5206\u4eab\u86cb\u7cd5\u7684\u7f8e\u597d\u5c0f\u5929\u5730"})]})})]})})}var kn,yn,Sn,Cn,zn,Ln=u.a.div(X||(X=Object(b.a)(["\n  padding: 100px 20px 500px 20px;\n"]))),En=u.a.div(Y||(Y=Object(b.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n  box-shadow: 0px 5px 8px black;\n  border-top: solid 2px black;\n  padding: 40px 60px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n"]))),Dn=u.a.div(Z||(Z=Object(b.a)(["\n  font-size: 60px;\n  word-break: break-all;\n"]))),In=u.a.div(nn||(nn=Object(b.a)(["\n  color: black;\n  margin-left: 10px;\n  margin-top: 10px;\n"]))),Pn=u.a.div(en||(en=Object(b.a)(["\n  max-width: 100%;\n  height: 300px;\n  background-size: cover;\n  border-radius: 8px;\n  margin-top: 30px;\n"]))),Un=u.a.div(tn||(tn=Object(b.a)(["\n  font-size: 24px;\n  margin-left: 10px;\n  margin-top: 20px;\n  white-space: pre-wrap;\n  word-break: break-all;\n"]))),Bn=u.a.div(cn||(cn=Object(b.a)([""]))),An=u.a.button(an||(an=Object(b.a)(["\n  margin-top: 20px;\n  border: 1px solid transparent;\n  padding: 5px 10px;\n  border-radius: 8px;\n  background-color: green;\n  color: white;\n  margin-right: 20px;\n"]))),Gn=u.a.button(rn||(rn=Object(b.a)(["\n  margin-top: 20px;\n  border: 1px solid transparent;\n  padding: 5px 10px;\n  border-radius: 8px;\n  background-color: green;\n  color: white;\n"])));function Jn(n){var e=n.user,t=n.post,c=n.handleEditButton,a=n.handleDeleteButton;return Object(k.jsxs)(Bn,{children:[e&&t&&e.id===t.userId&&Object(k.jsx)(An,{onClick:function(){return c(t.id)},children:"\u7de8\u8f2f"}),e&&t&&(e.id===t.userId||"admin"===e.username)&&Object(k.jsx)(Gn,{onClick:function(){return a(t.id)},children:"\u522a\u9664"})]})}function Nn(){var n=Object(o.useState)(null),e=Object(j.a)(n,2),t=e[0],c=e[1],a=Object(p.h)().id,i=Object(o.useContext)(m).user,r=Object(o.useContext)(w),s=r.isLoading,d=r.setIsLoading,b=Object(p.f)();Object(o.useEffect)((function(){g(a).then((function(n){d(!0),c(n[0])})).then((function(n){d(!1)}))}),[a,d]);return Object(k.jsx)(Ln,{children:s?Object(k.jsx)(V,{}):Object(k.jsxs)(En,{children:[Object(k.jsxs)(Dn,{children:[t&&t.title,Object(k.jsx)("hr",{})]}),Object(k.jsxs)(In,{children:["\u6642\u9593\uff1a",t&&new Date(t.createdAt).toLocaleString()]}),Object(k.jsx)(Pn,{style:{backgroundImage:"url(".concat(t&&t.image,")")}}),Object(k.jsx)(Un,{children:t&&t.body}),Object(k.jsx)(Jn,{user:i,post:t,handleEditButton:function(n){b.push("/edit/".concat(n))},handleDeleteButton:function(n){(function(n){return fetch("".concat(h,"/posts/").concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){return n.json()}))})(n).then((function(n){b.push("/")}))}})]})})}var Tn,_n,$n,Rn,Mn,Fn,Hn,Wn,qn,Kn=u.a.div(kn||(kn=Object(b.a)(["\n  color: red;\n"]))),Qn=u.a.div(yn||(yn=Object(b.a)(["\n  padding: 200px 20px 500px 20px;\n"]))),Vn=u.a.div(Sn||(Sn=Object(b.a)(["\n  max-width: 450px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 30px 50px;\n  margin: 0 auto;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n\n  input {\n    width: 100%;\n    padding: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n\n  button {\n    border-radius: 20px;\n    padding: 6px 20px;\n    font-size: 15px;\n  }\n"]))),Xn=u.a.div(Cn||(Cn=Object(b.a)(["\n  text-align: center;\n  font-size: 30px;\n  margin-bottom: 15px;\n"]))),Yn=u.a.div(zn||(zn=Object(b.a)([""])));function Zn(){var n=Object(o.useContext)(m).setUser,e=Object(o.useContext)(w),t=e.isLoading,c=e.setIsLoading,a=Object(o.useState)(""),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(o.useState)(""),b=Object(j.a)(d,2),u=b[0],x=b[1],O=Object(o.useState)(""),g=Object(j.a)(O,2),y=g[0],S=g[1],C=Object(o.useState)(""),z=Object(j.a)(C,2),L=z[0],E=z[1],D=Object(p.f)();return Object(k.jsx)(Qn,{children:Object(k.jsx)(Vn,{children:Object(k.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),c(!0),""===r&&""===u&&""===y)return c(!1),void E("\u66b1\u7a31\u6216\u5e33\u865f\u6216\u5bc6\u78bc \u672a\u8f38\u5165");var t,a,i;E(null),(t=r,a=u,i=y,fetch("".concat(h,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:a,password:i})}).then((function(n){return n.json()}))).then((function(e){if(0===e.ok)return c(!1),E(e.message);f(u,"Lidemy").then((function(e){if(0===e.ok)return c(!1),E(e.message);l(e.token),v().then((function(e){if(1!==e.ok)return c(!1),l(null),E(e.toString());c(!1),n(e.data),D.push("/")}))}))}))},children:[Object(k.jsx)(Xn,{children:"\u8a3b\u518a"}),Object(k.jsxs)("div",{children:["nickname:",Object(k.jsx)("input",{value:r,onChange:function(n){return s(n.target.value)}})]}),Object(k.jsxs)("div",{children:["username:",Object(k.jsx)("input",{value:u,onChange:function(n){return x(n.target.value)}})]}),Object(k.jsxs)("div",{children:["password:",Object(k.jsx)("input",{type:"password",value:y,onChange:function(n){return S(n.target.value)}})]}),t?Object(k.jsx)(Yn,{children:"\u8cc7\u6599\u9a57\u8b49\u4e2d..."}):Object(k.jsx)("button",{children:"\u8a3b\u518a"}),Object(k.jsx)(Kn,{children:L&&L})]})})})}var ne=u.a.div(Tn||(Tn=Object(b.a)(["\n  padding: 100px 20px 500px 20px;\n"]))),ee=u.a.form(_n||(_n=Object(b.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n  box-shadow: 0px 5px 8px black;\n  border-top: solid 2px black;\n  padding: 40px 60px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n"]))),te=u.a.input($n||($n=Object(b.a)(["\n  width: 100%;\n  font-size: 20px;\n  padding: 6px;\n  margin-top: 40px;\n  box-sizing: border-box;\n"]))),ce=u.a.textarea(Rn||(Rn=Object(b.a)(["\n  display: block;\n  width: 100%;\n  padding: 12px;\n  box-sizing: border-box;\n  margin-top: 20px;\n"]))),ae=u.a.div(Mn||(Mn=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ie=u.a.input(Fn||(Fn=Object(b.a)(["\n  padding: 5px;\n"]))),re=u.a.div(Hn||(Hn=Object(b.a)(["\n  display: flex;\n  align-self: flex-end;\n  float: right;\n\n  button {\n    padding: 6px 20px;\n    border-radius: 8px;\n  }\n"]))),oe=u.a.div(Wn||(Wn=Object(b.a)(["\n  color: red;\n"]))),se=u.a.div(qn||(qn=Object(b.a)(["\n  img {\n    height: 200px;\n    width: 300px;\n  }\n"])));function de(){var n=Object(o.useState)(""),e=Object(j.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(o.useState)(""),b=Object(j.a)(d,2),u=b[0],x=b[1],l=Object(o.useState)(""),g=Object(j.a)(l,2),f=g[0],v=g[1],m=Object(p.f)();return Object(k.jsx)(ne,{children:Object(k.jsxs)(ee,{onSubmit:function(n){if(n.preventDefault(),""===t&&""===r)return n.preventDefault(),void x("\u6a19\u984c\u6216\u5167\u5bb9\u4e0d\u5f97\u70ba\u7a7a");f||v("https://i.imgur.com/NOb569b.jpg"),function(n,e,t){var c=O();return t||(t="https://i.imgur.com/NOb569b.jpg"),fetch("".concat(h,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(c)},body:JSON.stringify({title:n,body:e,image:t})}).then((function(n){return n.json()}))}(t,r,f).then((function(n){m.push("/")})).catch((function(n){x(n.message)}))},children:[Object(k.jsx)(te,{value:t,onChange:function(n){return c(n.target.value)}}),Object(k.jsx)(ce,{value:r,onChange:function(n){return s(n.target.value)},rows:14}),Object(k.jsxs)(ae,{children:[Object(k.jsx)(ie,{value:f,placeholder:"\u8acb\u8f38\u5165\u5716\u7247URL",type:"text",onChange:function(n){return v(n.target.value)}}),Object(k.jsx)(oe,{children:u&&u})]}),Object(k.jsx)(se,{children:Object(k.jsx)("img",{src:f,alt:"\u9810\u89bd\u5c01\u9762"})}),Object(k.jsx)(re,{children:Object(k.jsx)("button",{children:"\u9001\u51fa\u6587\u7ae0"})})]})})}var je,be,ue,pe,xe,le,Oe,he,ge="@media screen and (max-width: 768px)",fe=u.a.div(je||(je=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 32px;\n  box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.8);\n  background-color: rgba(153, 177, 191, 0.6);\n  z-index: 2;\n  position: relative;\n\n  "," {\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n  }\n"])),ge),ve=Object(u.a)(D.b)(be||(be=Object(b.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: white;\n"]))),me=u.a.div(ue||(ue=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n"]))),we=u.a.div(pe||(pe=Object(b.a)(["\n  display: flex;\n  align-items: center;\n\n  "," {\n    margin-left: 64px;\n  }\n"])),me),ke=u.a.div(xe||(xe=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]))),ye=Object(u.a)(D.b)(le||(le=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  color: white;\n  ","\n"])),(function(n){return n.$active&&"background: #696969;"})),Se=u.a.div(Oe||(Oe=Object(b.a)(["\n  display: flex;\n  height: 100%;\n"])));function Ce(n){var e=n.user,t=n.pathname;return Object(k.jsxs)(Se,{children:[!e&&Object(k.jsx)(ye,{to:"/login",$active:"/login"===t,children:"\u767b\u5165"}),!e&&Object(k.jsx)(ye,{to:"/registered",$active:"/registered"===t,children:"\u8a3b\u518a"})]})}function ze(){var n=Object(p.g)(),e=Object(o.useContext)(m),t=e.user,c=e.setUser,a=e.isGetingUser,i=e.setIsGetingUser,r=Object(p.f)(),s=n.pathname;return Object(k.jsxs)(fe,{children:[Object(k.jsx)(we,{children:Object(k.jsx)(ve,{to:"/",children:"Cake Garden"})}),Object(k.jsxs)(ke,{children:[Object(k.jsxs)(me,{children:[Object(k.jsx)(ye,{to:"/",$active:"/"===n.pathname,children:"\u9996\u9801"}),t&&Object(k.jsx)(ye,{to:"/newpost",$active:"/newpost"===s,children:"\u767c\u4f48\u6587\u7ae0"})]}),Object(k.jsxs)(me,{children:[t&&Object(k.jsx)(ye,{to:"/",onClick:function(){l(""),i(!0),c(null),"/"!==n.pathname&&r.push("/")},children:"\u767b\u51fa"}),a&&Object(k.jsx)(Ce,{user:t,pathname:s})]})]})]})}var Le,Ee,De,Ie,Pe,Ue,Be=u.a.div(he||(he=Object(b.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  padding: 15px 60px;\n  color: white;\n  background: rgba(0, 0, 0, 0.7);\n  letter-spacing: 1.1px;\n\n  "," {\n    flex-direction: column;\n  }\n"])),ge);function Ae(){return Object(k.jsxs)(Be,{children:[Object(k.jsx)("div",{children:"\u203b \u672c\u7ad9\u50c5\u4f9b\u6e2c\u8a66\u4f7f\u7528\uff0c\u8acb\u52ff\u7559\u4e0b\u771f\u5be6\u8cc7\u8a0a"}),Object(k.jsx)("div",{children:"Copyright \xa9 2020 Powered by React.js"})]})}var Ge,Je=u.a.div(Le||(Le=Object(b.a)(["\n  padding: 100px 20px 500px 20px;\n"]))),Ne=u.a.form(Ee||(Ee=Object(b.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n  box-shadow: 0px 5px 8px black;\n  border-top: solid 2px black;\n  padding: 40px 60px;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n"]))),Te=u.a.input(De||(De=Object(b.a)(["\n  width: 100%;\n  font-size: 20px;\n  padding: 6px;\n  margin-top: 40px;\n  box-sizing: border-box;\n"]))),_e=u.a.textarea(Ie||(Ie=Object(b.a)(["\n  display: block;\n  width: 100%;\n  padding: 12px;\n  box-sizing: border-box;\n  margin-top: 20px;\n"]))),$e=u.a.button(Pe||(Pe=Object(b.a)(["\n  display: flex;\n  align-self: flex-end;\n  float: right;\n  margin-top: 10px;\n"]))),Re=u.a.div(Ue||(Ue=Object(b.a)(["\n  color: red;\n"])));function Me(){var n=Object(o.useState)(""),e=Object(j.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(o.useState)(""),b=Object(j.a)(d,2),u=b[0],x=b[1],l=Object(p.h)().id,O=Object(p.f)();return Object(o.useEffect)((function(){g(l).then((function(n){c(n[0].title),s(n[0].body)}))}),[l]),Object(k.jsx)(Je,{children:Object(k.jsxs)(Ne,{onSubmit:function(n){if(""===t&&""===r)return n.preventDefault(),void x("\u6a19\u984c\u6216\u5167\u5bb9\u4e0d\u5f97\u70ba\u7a7a");n.preventDefault(),function(n,e,t){return fetch("".concat(h,"/posts/").concat(t),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({title:n,body:e})}).then((function(n){return n.json()}))}(t,r,l).then((function(n){O.push("/posts/".concat(l))}))},children:[Object(k.jsx)(Te,{value:t,onChange:function(n){return c(n.target.value)}}),Object(k.jsx)(_e,{value:r,onChange:function(n){return s(n.target.value)},rows:14}),Object(k.jsx)(Re,{children:u&&u}),Object(k.jsx)($e,{children:"\u7de8\u8f2f\u6587\u7ae0"})]})})}var Fe=u.a.div(Ge||(Ge=Object(b.a)(["\n  position: absolute;\n  top: 0;\n  width: 100%;\n"])));function He(){var n=Object(o.useState)(!1),e=Object(j.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(null),i=Object(j.a)(a,2),r=i[0],s=i[1],d=Object(o.useState)(!1),b=Object(j.a)(d,2),u=b[0],x=b[1];function l(){var n=Object(p.g)().path;return Object(o.useEffect)((function(){window.scrollTo(0,0)}),[n]),null}return Object(o.useEffect)((function(){if(O())return v().then((function(n){n.ok&&s(n.data)}));c(!0)}),[]),Object(o.useEffect)((function(){}),[r]),Object(k.jsx)(m.Provider,{value:{user:r,setUser:s,isGetingUser:t,setIsGetingUser:c},children:Object(k.jsx)(w.Provider,{value:{isLoading:u,setIsLoading:x},children:Object(k.jsxs)(D.a,{children:[Object(k.jsx)(l,{}),Object(k.jsx)(ze,{}),Object(k.jsxs)(Fe,{children:[Object(k.jsxs)(p.c,{children:[Object(k.jsx)(p.a,{exact:!0,path:"/",children:Object(k.jsx)(wn,{})}),Object(k.jsx)(p.a,{path:"/newpost",children:Object(k.jsx)(de,{})}),Object(k.jsx)(p.a,{path:"/login",children:Object(k.jsx)(L,{})}),Object(k.jsx)(p.a,{path:"/posts/:id",children:Object(k.jsx)(Nn,{})}),Object(k.jsx)(p.a,{path:"/edit/:id",children:Object(k.jsx)(Me,{})}),Object(k.jsx)(p.a,{path:"/registered",children:Object(k.jsx)(Zn,{})})]}),Object(k.jsx)(Ae,{})]})]})})})}t(68);d.a.render(Object(k.jsx)(He,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.bbacfc33.chunk.js.map